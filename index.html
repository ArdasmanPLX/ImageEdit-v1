<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PLAYRIX AI Image Editor v.2.2</title>
    <link rel="stylesheet" href="index.css">
    <script type="importmap">
      {
        "imports": {
          "@google/genai": "https://esm.sh/@google/genai@1.0.0",
          "jszip": "https://esm.sh/jszip@3.10.1"
        }
      }
    </script>
<link rel="stylesheet" href="/index.css">
</head>
<body>
    <div class="app-container">
        <aside id="side-panel">
            <h2>–ò—Å—Ç–æ—Ä–∏—è</h2>
            <div id="history-gallery"></div>
            <button id="gallery-btn" class="gallery-button">–ì–∞–ª–µ—Ä–µ—è</button>
            <button id="download-log-btn" class="gallery-button" style="margin-top: 0.5rem; border-color: #666; color: #ccc;">–°–∫–∞—á–∞—Ç—å –ª–æ–≥ –∫–æ–º–∞–Ω–¥</button>
        </aside>
        <main>
            <h1>PLAYRIX AI Image Editor v.2.2</h1>

            <div id="mode-tabs" role="tablist" aria-label="Select editing mode">
                <button id="tab-character" class="tab-btn active" data-mode="character" role="tab" aria-selected="true">–ü–µ—Ä—Å–æ–Ω–∞–∂</button>
                <button id="tab-concepting" class="tab-btn" data-mode="concepting" role="tab" aria-selected="false">–ö–æ–Ω—Ü–µ–ø—Ç–∏–Ω–≥</button>
                <button id="tab-sketch" class="tab-btn" data-mode="sketch" role="tab" aria-selected="false">–°–≤–æ–±–æ–¥–Ω—ã–π —Ä–µ–∂–∏–º</button>
                <button id="tab-inpaint" class="tab-btn" data-mode="inpaint" role="tab" aria-selected="false">–ú–∞—Å–∫–∞</button>
                <button id="tab-lighting" class="tab-btn" data-mode="lighting" role="tab" aria-selected="false">–û—Å–≤–µ—â–µ–Ω–∏–µ</button>
                <button id="tab-match3" class="tab-btn" data-mode="match3" role="tab" aria-selected="false">Match3</button>
                <button id="tab-free" class="tab-btn" data-mode="free" role="tab" aria-selected="false">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</button>
                <button id="tab-analyze" class="tab-btn" data-mode="analyze" role="tab" aria-selected="false">–ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</button>
                <button id="tab-fqa" class="tab-btn" data-mode="fqa" role="tab" aria-selected="false">–°–ø—Ä–∞–≤–∫–∞</button>
            </div>
            
            <div id="controls" role="form" aria-labelledby="editor-title">
                <h2 id="editor-title" class="visually-hidden">Image editing controls</h2>
                <div id="image-upload-container">
                    <div id="image-viewport">
                        <div id="image-preview-container" role="button" tabindex="0" aria-label="Upload an image">
                            <img id="image-preview" class="hidden" alt="Your uploaded image preview">
                            <canvas id="mask-canvas"></canvas>
                            <canvas id="lighting-overlay-canvas"></canvas>
                             <div id="comparison-after-container" class="hidden">
                                <img id="comparison-after-image" src="" alt="Generated image for comparison">
                            </div>
                            <div id="comparison-slider-handle" class="hidden"><div></div></div>
                             <div id="upload-label">
                                <span>Click, drag & drop, or paste an image</span>
                            </div>
                            <button id="clear-image-btn" class="hidden" aria-label="Remove uploaded image">&times;</button>
                        </div>
                         <div id="image-overlay-controls" class="hidden">
                             <div class="control-group">
                                <button id="toggle-comparison-btn" class="overlay-btn" aria-label="Toggle Before/After view" disabled>
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M12 22a10 10 0 1 1 0-20 10 10 0 0 1 0 20z"></path>
                                        <path d="M12 2v20"></path>
                                    </svg>
                                </button>
                             </div>
                             <div class="divider"></div>
                            <div id="light-placement-tool" class="control-group">
                                <button id="toggle-light-placement-btn" class="overlay-btn" aria-label="Toggle light source placement">
                                     <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M15.5 15.5A6.5 6.5 0 1 1 8.5 8.5a6.5 6.5 0 0 1 7 7z" />
                                        <path d="M12 19v2M12 3v2" />
                                        <path d="m4.93 4.93 1.41 1.41M17.66 17.66l1.41 1.41" />
                                        <path d="M2 12h2M20 12h2" />
                                        <path d="m4.93 19.07 1.41-1.41M17.66 6.34l1.41-1.41" />
                                    </svg>
                                </button>
                                <button id="clear-light-sources-btn" class="overlay-btn clear hidden" aria-label="Clear all light sources">
                                     <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
                                    </svg>
                                </button>
                            </div>
                            <div id="light-properties" class="control-group hidden">
                                <div id="light-shape-selector">
                                    <input type="radio" id="shape-circle" name="light-shape" value="circle" checked>
                                    <label for="shape-circle" class="shape-label" aria-label="–¢–æ—á–∫–∞ - —Ç–æ—á–µ—á–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫">‚óè</label>
                                    <input type="radio" id="shape-arrow" name="light-shape" value="arrow">
                                    <label for="shape-arrow" class="shape-label" aria-label="–ö–∞—Ä–∞–Ω–¥–∞—à - —Ä–∏—Å–æ–≤–∞—Ç—å —Å—Ç—Ä–µ–ª–∫—É">‚úé</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <input type="file" id="image-upload" accept="image/*" hidden>
                    
                    <!-- Reference images upload area -->
                    <div id="reference-upload-area" role="region" aria-labelledby="reference-upload-label" tabindex="0">
                        <label for="reference-upload" id="reference-upload-label">
                            <span>Add Reference Images (Optional) (Drag & Drop)</span>
                        </label>
                        <input type="file" id="reference-upload" accept="image/*" hidden multiple>
                    </div>

                    <!-- Reference images display area -->
                    <div id="reference-preview-container" class="hidden">
                        <!-- Label and images will be dynamically added here by JS -->
                    </div>

                    <div id="inpaint-controls" class="hidden">
                        <div class="inpaint-tool">
                            <label for="brush-size">Brush Size:</label>
                            <input type="range" id="brush-size-slider" min="5" max="100" value="40">
                        </div>
                        <div class="inpaint-tool-group">
                            <button id="brush-mode-btn" class="tool-btn active" aria-pressed="true">Brush</button>
                            <button id="eraser-mode-btn" class="tool-btn" aria-pressed="false">Eraser</button>
                        </div>
                        <div class="inpaint-tool-group">
                            <button id="undo-mask-btn" class="tool-btn-secondary">Undo</button>
                            <button id="clear-mask-btn" class="tool-btn-secondary">Clear</button>
                            <button id="remove-mask-btn" class="tool-btn-secondary">Remove</button>
                        </div>
                    </div>
                </div>
                <div id="prompt-container">
                    
                    <div id="preset-buttons">
                        <button id="preset-turn-side" class="preset-btn" disabled>–í–∏–¥ —Å–±–æ–∫—É</button>
                        <button id="preset-turn-34" class="preset-btn" disabled>–í–∏–¥ –≤ 3/4</button>
                        <button id="preset-turn-back" class="preset-btn" disabled>–í–∏–¥ —Å–æ —Å–ø–∏–Ω—ã</button>
                        <button id="preset-turn-front" class="preset-btn" disabled>–í–∏–¥ –∞–Ω—Ñ–∞—Å</button>
                        <button id="preset-emotion-ref" class="preset-btn" disabled>–ò–∑–º–µ–Ω–∏—Ç—å —ç–º–æ—Ü–∏—é</button>
                        <button id="preset-emotion-sad" class="preset-btn" disabled>–≠–º–æ—Ü–∏—è: –ì—Ä—É—Å—Ç—å</button>
                        <button id="preset-emotion-surprise" class="preset-btn" disabled>–≠–º–æ—Ü–∏—è: –£–¥–∏–≤–ª–µ–Ω–∏–µ</button>
                        <button id="preset-emotion-joy" class="preset-btn" disabled>–≠–º–æ—Ü–∏—è: –†–∞–¥–æ—Å—Ç—å</button>
                        <button id="preset-pose-sit" class="preset-btn" disabled>–ü–æ–∑–∞: –°–∏–¥–∏—Ç</button>
                        <button id="preset-pose-dance" class="preset-btn" disabled>–ü–æ–∑–∞: –¢–∞–Ω—Ü—É–µ—Ç</button>
                        <button id="preset-pose-gesture" class="preset-btn" disabled>–ü–æ–∑–∞: –ñ–µ—Å—Ç —Ä—É–∫–∞–º–∏</button>
                        <button id="preset-pose-ref" class="preset-btn" disabled>–ü–æ–∑–∞ –ø–æ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å—É</button>
                        <button id="preset-turn-360" class="preset-btn" disabled>–ü–æ–≤–æ—Ä–æ—Ç 360</button>
                        <button id="preset-head-turns" class="preset-btn" disabled>–ü–æ–≤–æ—Ä–æ—Ç—ã –≥–æ–ª–æ–≤—ã</button>
                    </div>

                    <div id="match3-preset-buttons" class="hidden">
                        <button id="preset-shine-10" class="preset-btn" disabled>–ë–ª–µ—Å–∫ 10%</button>
                        <button id="preset-shine-15" class="preset-btn" disabled>–ë–ª–µ—Å–∫ 15%</button>
                        <button id="preset-shine-20" class="preset-btn" disabled>–ë–ª–µ—Å–∫ 20%</button>
                        <button id="preset-shine-25" class="preset-btn" disabled>–ë–ª–µ—Å–∫ 25%</button>
                        <button id="preset-shine-30" class="preset-btn" disabled>–ë–ª–µ—Å–∫ 30%</button>
                        <button id="preset-metal-30" class="preset-btn" disabled>–ú–µ—Ç–∞–ª–ª 30%</button>
                        <button id="preset-metal-40" class="preset-btn" disabled>–ú–µ—Ç–∞–ª–ª 40%</button>
                        <button id="preset-metal-50" class="preset-btn" disabled>–ú–µ—Ç–∞–ª–ª 50%</button>
                        <button id="preset-metal-70" class="preset-btn" disabled>–ú–µ—Ç–∞–ª–ª 70%</button>
                        <button id="preset-shadows" class="preset-btn" disabled>–£—Å–∏–ª–∏—Ç—å —Ç–µ–Ω–∏</button>
                    </div>

                    <!-- Concepting Controls -->
                    <div id="concepting-ui-container" class="hidden">
                        <div class="concept-input-row">
                            <div class="input-group">
                                <label for="concept-theme-input">–¢–µ–º–∞—Ç–∏–∫–∞:</label>
                                <input type="text" id="concept-theme-input" placeholder="e.g. Halloween, Cyberpunk, Retro">
                            </div>
                            <div class="input-group with-button">
                                <label for="concept-transform-input">–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ:</label>
                                <div class="input-btn-wrapper">
                                    <input type="text" id="concept-transform-input" placeholder="e.g. Toaster, Chest, Sword">
                                    <button id="preset-concept-convert-btn" class="preset-btn" disabled>–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å</button>
                                </div>
                            </div>
                        </div>
                        
                        <div id="concepting-preset-buttons">
                            <button id="preset-concept-keep-shape" class="preset-btn" disabled>–í–∞—Ä–∏–∞—Ü–∏–∏ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ñ–æ—Ä–º—ã</button>
                            <button id="preset-concept-new-shape" class="preset-btn" disabled>–í–∞—Ä–∏–∞—Ü–∏–∏ —Ä–∞–∑–Ω–æ–π —Ñ–æ—Ä–º—ã</button>
                            <button id="preset-concept-keep-design" class="preset-btn" disabled>–í–∞—Ä–∏–∞—Ü–∏–∏ —Ä–∞–∑–Ω–æ–π —Ñ–æ—Ä–º—ã —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∏–∑–∞–π–Ω–∞</button>
                        </div>
                        
                        <div class="concept-collection-row" style="margin-top: 1rem; border-top: 1px solid #333; padding-top: 1rem;">
                            <div class="input-group with-button">
                                <label for="concept-collection-topic">–°–æ–∑–¥–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é: (–¥–µ–º–æ)</label>
                                <div class="input-btn-wrapper">
                                    <input type="text" id="concept-collection-topic" placeholder="Topic (e.g. Swords, Icons)">
                                    <button id="preset-concept-collection-btn" class="preset-btn" disabled>–ö–æ–ª–ª–µ–∫—Ü–∏—è</button>
                                </div>
                                <p style="font-size: 0.8rem; color: #888; margin-top: 4px;">* –¢—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–æ–≤<br>(–Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–º—ã –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º)</p>
                            </div>
                        </div>
                    </div>


                    <div id="prompt-input-wrapper">
                        <label for="prompt-input" class="visually-hidden">Editing prompt</label>
                        <textarea id="prompt-input" placeholder="Describe your desired changes..." rows="3"></textarea>
                    </div>

                    <div id="negative-prompt-container">
                        <label for="negative-prompt-input" class="visually-hidden">Negative prompt</label>
                        <textarea id="negative-prompt-input" placeholder="Negative prompt (e.g., ugly, blurry, text, watermark)" rows="2"></textarea>
                    </div>

                    <div id="lighting-controls-container" class="hidden">
                        <div class="lighting-control-group">
                            <label for="temperature-slider">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (K):</label>
                            <input type="range" id="temperature-slider" min="1000" max="10000" step="100" value="5000">
                            <span id="temperature-value">5000</span>
                        </div>
                        <div class="lighting-control-group">
                            <label for="light-intensity-slider">–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å —Å–≤–µ—Ç–∞ (%):</label>
                            <input type="range" id="light-intensity-slider" min="0" max="200" step="5" value="100">
                            <span id="light-intensity-value">100</span>
                        </div>
                        <div class="lighting-control-group">
                            <label for="light-color-picker">–¶–≤–µ—Ç —Å–≤–µ—Ç–∞:</label>
                            <input type="color" id="light-color-picker" value="#FFFFFF">
                            <button id="reset-light-color-btn" class="icon-btn" aria-label="–°–±—Ä–æ—Å–∏—Ç—å —Ü–≤–µ—Ç" title="–°–±—Ä–æ—Å–∏—Ç—å —Ü–≤–µ—Ç –Ω–∞ –±–µ–ª—ã–π">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path>
                                    <path d="M3 3v5h5"></path>
                                </svg>
                            </button>
                        </div>

                        <fieldset id="direction-tools-fieldset" class="hidden highlighted-panel">
                            <legend>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è</legend>
                            <button id="btn-light-arrow" class="lighting-preset-btn">–°–≤–µ—Ç –ø–æ —Å—Ç—Ä–µ–ª–∫–µ (—Ä–∏—Å–æ–≤–∞—Ç—å ‚úé)</button>
                            <button id="btn-light-point" class="lighting-preset-btn">–°–≤–µ—Ç –ø–æ —Ç–æ—á–∫–µ (—Å—Ç–∞–≤–∏—Ç—å ‚óè)</button>
                        </fieldset>

                        <fieldset>
                            <legend>–†–µ—Ñ–µ—Ä–µ–Ω—Å</legend>
                            <button id="btn-lighting-ref" class="lighting-preset-btn wide-btn">–û—Å–≤–µ—â–µ–Ω–∏–µ –ø–æ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å—É</button>
                        </fieldset>

                        <fieldset>
                            <legend>–ò—Å—Ç–æ—á–Ω–∏–∫ —Å–≤–µ—Ç–∞</legend>
                            <button class="lighting-preset-btn" data-prompt="a soft fill light from the left">–°–≤–µ—Ç —Å–ª–µ–≤–∞</button>
                            <button class="lighting-preset-btn" data-prompt="a soft fill light from the right">–°–≤–µ—Ç —Å–ø—Ä–∞–≤–∞</button>
                            <button class="lighting-preset-btn" data-prompt="a rim light">–ö–æ–Ω—Ç—É—Ä–Ω—ã–π —Å–≤–µ—Ç</button>
                            <button class="lighting-preset-btn" data-prompt="the main light source is directly overhead">–°–≤–µ—Ç —Å–≤–µ—Ä—Ö—É</button>
                            <button class="lighting-preset-btn" data-prompt="a dramatic uplight from below">–°–≤–µ—Ç —Å–Ω–∏–∑—É</button>
                        </fieldset>

                        <fieldset>
                            <legend>–ê—Ç–º–æ—Å—Ñ–µ—Ä–∞</legend>
                            <button class="lighting-preset-btn" data-prompt="Relight the scene for a bright summer morning">–õ–µ—Ç–Ω–µ–µ —É—Ç—Ä–æ</button>
                            <button class="lighting-preset-btn" data-prompt="Relight the scene for a warm autumn evening (golden hour)">–û—Å–µ–Ω–Ω–∏–π –≤–µ—á–µ—Ä</button>
                            <button class="lighting-preset-btn" data-prompt="Relight the scene for a cool winter noon with crisp shadows">–ó–∏–º–Ω–∏–π –ø–æ–ª–¥–µ–Ω—å</button>
                            <button class="lighting-preset-btn" data-prompt="Relight the scene for a dramatic, moody dusk">–°—É–º–µ—Ä–∫–∏</button>
                        </fieldset>
                        
                        <fieldset>
                            <legend>–°—Ç–∏–ª—å —Å–≤–µ—Ç–∞</legend>
                            <button class="lighting-preset-btn" data-prompt="Change the lighting to soft, diffused studio lighting">–°—Ç—É–¥–∏–π–Ω—ã–π</button>
                            <button class="lighting-preset-btn" data-prompt="Change the lighting to harsh, direct sunlight with strong shadows">–ü—Ä—è–º–æ–π —Å–æ–ª–Ω–µ—á–Ω—ã–π</button>
                            <button class="lighting-preset-btn" data-prompt="Change the lighting to match an overcast day with very soft, flat light">–ü–∞—Å–º—É—Ä–Ω—ã–π –¥–µ–Ω—å</button>
                            <button class="lighting-preset-btn" data-prompt="Relight with a single, cozy, warm room lamp">–ö–æ–º–Ω–∞—Ç–Ω–∞—è –ª–∞–º–ø–∞</button>
                        </fieldset>

                        <button id="preset-3d-lighting" class="lighting-preset-btn wide-btn" data-prompt="Add 3D lighting to objects in the image as if they were in real 3D space. Consider the volume of objects, their relative positions, light intensity, and direction.">3D Lighting</button>
                    </div>


                    <div id="creativity-slider-container">
                        <label for="creativity-slider">Creativity:</label>
                        <input type="range" id="creativity-slider" min="0" max="1" step="0.1" value="0.9">
                        <span id="creativity-value">0.9</span>
                    </div>

                    <div id="aspect-ratio-selector" class="hidden">
                        <label id="aspect-ratio-label">–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω:</label>
                        <div role="group" aria-labelledby="aspect-ratio-label">
                            <button class="aspect-ratio-btn active" data-ratio="1:1" aria-pressed="true">1:1</button>
                            <button class="aspect-ratio-btn" data-ratio="3:4" aria-pressed="false">3:4</button>
                            <button class="aspect-ratio-btn" data-ratio="4:3" aria-pressed="false">4:3</button>
                            <button class="aspect-ratio-btn" data-ratio="9:16" aria-pressed="false">9:16</button>
                            <button class="aspect-ratio-btn" data-ratio="16:9" aria-pressed="false">16:9</button>
                        </div>
                    </div>
                    
                    <div id="generation-model-selector" class="hidden">
                        <label id="gen-model-label">Model:</label>
                        <div role="group" aria-labelledby="gen-model-label">
                            <button class="model-btn active" data-model="gemini-2.5-flash-image" aria-pressed="true">Nano Banana</button>
                            <button class="model-btn" data-model="gemini-3-pro-image-preview" aria-pressed="false">Nano Banana Pro</button>
                            <button class="model-btn imagen-btn" data-model="imagen-4.0-generate-001">Imagen 4.0</button>
                            <button class="model-btn imagen-btn" data-model="imagen-4.0-generate-ultra">Imagen 4.0 Ultra</button>
                        </div>
                    </div>

                    <div id="generation-count-selector">
                        <label id="generation-count-label">Number of images:</label>
                        <div role="group" aria-labelledby="generation-count-label">
                            <button class="num-btn active" data-count="1" aria-pressed="true">1</button>
                            <button class="num-btn" data-count="2" aria-pressed="false">2</button>
                            <button class="num-btn" data-count="3" aria-pressed="false">3</button>
                            <button class="num-btn" data-count="4" aria-pressed="false">4</button>
                            <button class="num-btn" data-count="5" aria-pressed="false">5</button>
                            <button class="num-btn" data-count="6" aria-pressed="false">6</button>
                        </div>
                    </div>

                    <button id="generate-btn" aria-label="Generate edited image">Generate</button>
                </div>
            </div>

            <div id="fqa-content-container" class="hidden">
                <h2>–°–ø—Ä–∞–≤–∫–∞ –∏ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>
                <div class="fqa-section">
                    <h3>–û–± –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–µ</h3>
                    <p>Playrix AI Image Editor ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–∞ –±–∞–∑–µ –º–æ–¥–µ–ª–µ–π Google Gemini (Flash/Pro) –∏ Imagen 3, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–≥—Ä–æ–≤—ã—Ö –∞—Å—Å–µ—Ç–æ–≤, –∫–æ–Ω—Ü–µ–ø—Ç-–∞—Ä—Ç–∞ –∏ UI-—ç–ª–µ–º–µ–Ω—Ç–æ–≤. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –Ω—É–ª—è, —Ç–∞–∫ –∏ –≥–ª—É–±–æ–∫–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ.</p>
                </div>

                <div class="fqa-section">
                    <h3>–û–±–∑–æ—Ä —Ä–µ–∂–∏–º–æ–≤</h3>
                    <ul>
                        <li><strong>üßô‚Äç‚ôÇÔ∏è –ü–µ—Ä—Å–æ–Ω–∞–∂:</strong> –†–µ–∂–∏–º –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏. –î–æ—Å—Ç—É–ø–Ω—ã —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø—Ä–µ—Å–µ—Ç—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–∑—ã (—Å–∏–¥–∏—Ç, —Ç–∞–Ω—Ü—É–µ—Ç), —ç–º–æ—Ü–∏–π (–≥—Ä—É—Å—Ç—å, —Ä–∞–¥–æ—Å—Ç—å) –∏ —Ä–∞–∫—É—Ä—Å–∞ (–∞–Ω—Ñ–∞—Å, –ø—Ä–æ—Ñ–∏–ª—å, 3/4). –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–µ—Ñ–µ—Ä–µ–Ω—Å—ã –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –ø–æ–∑—ã.</li>
                        <li><strong>üß† –ö–æ–Ω—Ü–µ–ø—Ç–∏–Ω–≥:</strong> –°–æ–∑–¥–∞–Ω–∏–µ –≤–∞—Ä–∏–∞—Ü–∏–π –∏ –∫–æ–ª–ª–µ–∫—Ü–∏–π.
                            <ul>
                                <li><strong>–¢–µ–º–∞—Ç–∏–∫–∞:</strong> –í–≤–µ–¥–∏—Ç–µ —Ç–µ–º—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Halloween"), –∏ –æ–Ω–∞ –±—É–¥–µ—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –∫ –≤–∞—Ä–∏–∞—Ü–∏—è–º.</li>
                                <li><strong>–í–∞—Ä–∏–∞—Ü–∏–∏:</strong> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –¥–∏–∑–∞–π–Ω –æ–±—ä–µ–∫—Ç–∞, —Å–æ—Ö—Ä–∞–Ω–∏–≤ —Ñ–æ—Ä–º—É –∏–ª–∏ —Ç–æ–ª—å–∫–æ —Ü–≤–µ—Ç–æ–≤—É—é –≥–∞–º–º—É.</li>
                                <li><strong>–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ:</strong> –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Chest") –∏ –Ω–∞–∂–º–∏—Ç–µ "–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å", —á—Ç–æ–±—ã –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –≤–∞—à –æ–±—ä–µ–∫—Ç –≤ —Å—É–Ω–¥—É–∫ –≤ —Ç–æ–º –∂–µ —Å—Ç–∏–ª–µ.</li>
                                <li><strong>–ö–æ–ª–ª–µ–∫—Ü–∏–∏ (–î–µ–º–æ):</strong> –ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–æ–≤, –≤–ø–∏—à–∏—Ç–µ —Ç–µ–º—É –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º –∏ –Ω–∞–∂–º–∏—Ç–µ "–ö–æ–ª–ª–µ–∫—Ü–∏—è". –°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–≥ –±—ã –±—ã—Ç—å —á–∞—Å—Ç—å—é —ç—Ç–æ–≥–æ –Ω–∞–±–æ—Ä–∞.</li>
                            </ul>
                        </li>
                        <li><strong>üé® –°–≤–æ–±–æ–¥–Ω—ã–π —Ä–µ–∂–∏–º:</strong> –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–µ–∑ –∂–µ—Å—Ç–∫–∏—Ö –ø—Ä–µ—Å–µ—Ç–æ–≤. –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∏–ª—è, –ø–µ—Ä–µ–∫—Ä–∞—Å–∫–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –∏–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π —á–µ—Ä–µ–∑ –ø—Ä–æ–º–ø—Ç.</li>
                        <li><strong>üñåÔ∏è –ú–∞—Å–∫–∞ (Inpaint):</strong> –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ. –ó–∞–∫—Ä–∞—Å—å—Ç–µ –∫–∏—Å—Ç—å—é –æ–±–ª–∞—Å—Ç—å, –∫–æ—Ç–æ—Ä—É—é —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å, –∏ –æ–ø–∏—à–∏—Ç–µ –≤ –ø—Ä–æ–º–ø—Ç–µ, —á—Ç–æ –¥–æ–ª–∂–Ω–æ —Ç–∞–º –ø–æ—è–≤–∏—Ç—å—Å—è (–∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ "Remove", —á—Ç–æ–±—ã —É–¥–∞–ª–∏—Ç—å –æ–±—ä–µ–∫—Ç).</li>
                        <li><strong>üí° –û—Å–≤–µ—â–µ–Ω–∏–µ:</strong> –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–µ–ª–∞–π—Ç–∏–Ω–≥.
                            <ul>
                                <li><em>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:</em> –°–ª–∞–π–¥–µ—Ä —Ü–≤–µ—Ç–æ–≤–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã, –≤—ã–±–æ—Ä —Ü–≤–µ—Ç–∞ —Å–≤–µ—Ç–∞, —Å–ª–∞–π–¥–µ—Ä –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç–∏ —Å–≤–µ—Ç–∞.</li>
                                <li><em>–†—É—á–Ω–∞—è —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∞:</em> –í—ã–±–µ—Ä–∏—Ç–µ "–ö–∞—Ä–∞–Ω–¥–∞—à" (‚úé) –∏ –Ω–∞—Ä–∏—Å—É–π—Ç–µ —Å—Ç—Ä–µ–ª–∫—É –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏, —á—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–µ—Ç–∞. –ò–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ "–¢–æ—á–∫—É" (‚óè) –∏ –ø–æ—Å—Ç–∞–≤—å—Ç–µ –µ—ë —Ç–∞–º, –≥–¥–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫. –ó–∞—Ç–µ–º –Ω–∞–∂–º–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–Ω–æ–ø–∫–∏ –≤ –ø–∞–Ω–µ–ª–∏.</li>
                            </ul>
                        </li>
                        <li><strong>üíé Match3:</strong> –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∏—à–µ–∫ –∏ –∏–∫–æ–Ω–æ–∫. –ü—Ä–µ—Å–µ—Ç—ã –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –±–ª–µ—Å–∫–∞, —ç—Ñ—Ñ–µ–∫—Ç–∞ –º–µ—Ç–∞–ª–ª–∞, —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ–Ω–µ–π.</li>
                        <li><strong>‚ú® –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:</strong> –°–æ–∑–¥–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å –Ω—É–ª—è.
                            <ul>
                                <li>–ü–æ–∑–≤–æ–ª—è–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–æ 4 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.</li>
                                <li>–ï—Å–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã <strong>—Ä–µ—Ñ–µ—Ä–µ–Ω—Å—ã</strong>: –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –æ–ø–∏—Ä–∞—è—Å—å –Ω–∞ —Å—Ç–∏–ª—å –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–æ–≤.</li>
                            </ul>
                        </li>
                        <li><strong>üß† –ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:</strong> –ù–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–∞—Ä—Ç–∏–Ω–∫–∏. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∞–º—É—é –º–æ—â–Ω—É—é –º–æ–¥–µ–ª—å (Gemini 3 Pro) –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–±–æ—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã.</li>
                    </ul>
                </div>

                <div class="fqa-section">
                    <h3>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</h3>
                    <p>Nano Banana Pro –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–º–µ—à–∏–≤–∞—Ç—å –¥–æ 14 —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π. –≠—Ç–∏ 14 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –º–æ–≥—É—Ç –≤–∫–ª—é—á–∞—Ç—å –≤ —Å–µ–±—è —Å–ª–µ–¥—É—é—â–µ–µ:</p>
                    <ul>
                        <li>–î–æ 6 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –æ–±—ä–µ–∫—Ç–æ–≤ —Å –≤—ã—Å–æ–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –≤ —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</li>
                        <li>–î–æ 5 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ª—é–¥–µ–π –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π</li>
                    </ul>
                </div>

                <div class="fqa-section">
                    <h3>üí° –°–æ–≤–µ—Ç—ã –∏ —Å–∫—Ä—ã—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</h3>
                    <ul>
                        <li><strong>Upscale 2K:</strong> –í —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–ø–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω) –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É —Å–æ —Å—Ç—Ä–µ–ª–∫–æ–π –≤–≤–µ—Ä—Ö, —á—Ç–æ–±—ã —É–≤–µ–ª–∏—á–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ 2K –∏ —É–ª—É—á—à–∏—Ç—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é.</li>
                        <li><strong>Drag & Drop –ò—Å—Ç–æ—Ä–∏–∏:</strong> –õ—é–±–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ –ø–∞–Ω–µ–ª–∏ "–ò—Å—Ç–æ—Ä–∏—è" –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç—å –ø—Ä—è–º–æ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —Ö–æ–ª—Å—Ç.</li>
                        <li><strong>–ë—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞ (Ctrl+C):</strong> –í –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –Ω–∞–∂–º–∏—Ç–µ Ctrl+C, —á—Ç–æ–±—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (PNG).</li>
                        <li><strong>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ (–î–æ/–ü–æ—Å–ª–µ):</strong> –í —Ä–µ–∂–∏–º–∞—Ö —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É —Å–ª–∞–π–¥–µ—Ä–∞ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.</li>
                        <li><strong>–û—á–∏—Å—Ç–∫–∞:</strong> –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫—Ä–µ—Å—Ç–∏–∫ –≤ —É–≥–ª—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —á—Ç–æ–±—ã —Å–±—Ä–æ—Å–∏—Ç—å —Ö–æ–ª—Å—Ç.</li>
                    </ul>
                </div>
            </div>

            <div id="result-container" aria-live="polite">
                <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç</h2>
                <div id="image-gallery"></div>
            </div>
        </main>
    </div>

    <div id="gallery-modal" class="modal-hidden" role="dialog" aria-modal="true" aria-labelledby="gallery-title">
        <div class="gallery-modal-content">
            <div class="gallery-modal-header">
                <h2 id="gallery-title">–ì–∞–ª–µ—Ä–µ—è</h2>
                <div class="gallery-modal-controls">
                    <input type="text" id="filename-prefix" placeholder="–ò–º—è —Ñ–∞–π–ª–∞ / –ù–∞–∑–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞ (–ø–µ—Ä—Å–æ–Ω–∞–∂)" aria-label="–ü—Ä–µ—Ñ–∏–∫—Å –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞">
                    <button id="download-selected-btn" disabled>–ó–∞–≥—Ä—É–∑–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω–æ–µ</button>
                </div>
                <button id="close-gallery-btn" class="close-btn" aria-label="–ó–∞–∫—Ä—ã—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä –≥–∞–ª–µ—Ä–µ–∏">&times;</button>
            </div>
            <div id="gallery-grid"></div>
        </div>
    </div>
    
    <div id="fullscreen-modal" class="modal-hidden" role="dialog" aria-modal="true" aria-labelledby="fullscreen-image-alt">
        <button id="close-modal-btn" class="close-btn" aria-label="–ó–∞–∫—Ä—ã—Ç—å –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä">&times;</button>
        <button id="prev-image-btn" class="nav-btn prev" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ">&#10094;</button>
        <img id="fullscreen-image" src="" alt="–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è">
        <button id="next-image-btn" class="nav-btn next" aria-label="–°–ª–µ–¥—É—é—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ">&#10095;</button>
        
        <!-- Copy Button -->
        <button id="copy-modal-btn" class="action-btn copy" aria-label="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞ (PNG)">
            <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
            </svg>
        </button>

        <p id="fullscreen-image-alt" class="visually-hidden">–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</p>
    </div>

    <div id="brush-cursor" class="hidden"></div>
    <script type="module" src="index.tsx"></script>
</body>
</html>